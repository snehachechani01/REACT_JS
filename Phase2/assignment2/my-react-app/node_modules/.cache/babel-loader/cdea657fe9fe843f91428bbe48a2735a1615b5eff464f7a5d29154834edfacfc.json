{"ast":null,"code":"var _jsxFileName = \"/var/www/html/REACT_JS/Phase2/assignment2/my-react-app/src/context/shop-context.jsx\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect } from \"react\";\nimport { PRODUCTS } from \"../../products\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ShopContext = /*#__PURE__*/createContext();\nconst CART_ITEMS_KEY = \"cartItems\";\nexport const ShopContextProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [cartItems, setCartItems] = useState(() => {\n    const cartItemsFromStorage = localStorage.getItem(CART_ITEMS_KEY);\n    return cartItemsFromStorage ? JSON.parse(cartItemsFromStorage) : {};\n  });\n  useEffect(() => {\n    localStorage.setItem(CART_ITEMS_KEY, JSON.stringify(cartItems));\n  }, [cartItems]);\n  const addToCart = productId => {\n    setCartItems(prevCartItems => {\n      const newCartItems = {\n        ...prevCartItems\n      };\n      if (newCartItems[productId]) {\n        newCartItems[productId]++;\n      } else {\n        newCartItems[productId] = 1;\n      }\n      return newCartItems;\n    });\n  };\n  const getTotalCartAmount = () => {\n    let total = 0;\n    for (const productId in cartItems) {\n      const product = PRODUCTS.find(p => p.id === productId);\n      const quantity = cartItems[productId];\n      total += product.price * quantity;\n    }\n    return total.toFixed(2);\n  };\n  const removeFromCart = productId => {\n    setCartItems(prevCartItems => {\n      const newCartItems = {\n        ...prevCartItems\n      };\n      delete newCartItems[productId];\n      return newCartItems;\n    });\n  };\n  const clearCart = () => {\n    setCartItems({});\n  };\n  const checkout = () => {\n    // Do something with the cart items\n    clearCart();\n  };\n  return /*#__PURE__*/_jsxDEV(ShopContext.Provider, {\n    value: {\n      cartItems,\n      addToCart,\n      removeFromCart,\n      getTotalCartAmount,\n      clearCart,\n      checkout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(ShopContextProvider, \"Px9++oNhFcjpobfwxrpKh3679lM=\");\n_c = ShopContextProvider;\nvar _c;\n$RefreshReg$(_c, \"ShopContextProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","PRODUCTS","jsxDEV","_jsxDEV","ShopContext","CART_ITEMS_KEY","ShopContextProvider","_ref","_s","children","cartItems","setCartItems","cartItemsFromStorage","localStorage","getItem","JSON","parse","setItem","stringify","addToCart","productId","prevCartItems","newCartItems","getTotalCartAmount","total","product","find","p","id","quantity","price","toFixed","removeFromCart","clearCart","checkout","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/var/www/html/REACT_JS/Phase2/assignment2/my-react-app/src/context/shop-context.jsx"],"sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\nimport { PRODUCTS } from \"../../products\";\nexport const ShopContext = createContext();\n\nconst CART_ITEMS_KEY = \"cartItems\";\n\nexport const ShopContextProvider = ({ children }) => {\n  const [cartItems, setCartItems] = useState(() => {\n    const cartItemsFromStorage = localStorage.getItem(CART_ITEMS_KEY);\n    return cartItemsFromStorage ? JSON.parse(cartItemsFromStorage) : {};\n  });\n\n  useEffect(() => {\n    localStorage.setItem(CART_ITEMS_KEY, JSON.stringify(cartItems));\n  }, [cartItems]);\n\n  const addToCart = (productId) => {\n    setCartItems((prevCartItems) => {\n      const newCartItems = { ...prevCartItems };\n      if (newCartItems[productId]) {\n        newCartItems[productId]++;\n      } else {\n        newCartItems[productId] = 1;\n      }\n      return newCartItems;\n    });\n  };\n\n  const getTotalCartAmount = () => {\n    let total = 0;\n    for (const productId in cartItems) {\n      const product = PRODUCTS.find((p) => p.id === productId);\n      const quantity = cartItems[productId];\n      total += product.price * quantity;\n    }\n    return total.toFixed(2);\n  };\n\n  const removeFromCart = (productId) => {\n    setCartItems((prevCartItems) => {\n      const newCartItems = { ...prevCartItems };\n      delete newCartItems[productId];\n      return newCartItems;\n    });\n  };\n\n  const clearCart = () => {\n    setCartItems({});\n  };\n\n  const checkout = () => {\n    // Do something with the cart items\n    clearCart();\n  };\n\n  return (\n    <ShopContext.Provider\n      value={{\n        cartItems,\n        addToCart,\n        removeFromCart,\n        getTotalCartAmount,\n        clearCart,\n        checkout,\n      }}\n    >\n      {children}\n    </ShopContext.Provider>\n  );\n};\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACjE,SAASC,QAAQ,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC1C,OAAO,MAAMC,WAAW,gBAAGN,aAAa,EAAE;AAE1C,MAAMO,cAAc,GAAG,WAAW;AAElC,OAAO,MAAMC,mBAAmB,GAAGC,IAAA,IAAkB;EAAAC,EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC,GAAAF,IAAA;EAC9C,MAAM,CAACG,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC,MAAM;IAC/C,MAAMa,oBAAoB,GAAGC,YAAY,CAACC,OAAO,CAACT,cAAc,CAAC;IACjE,OAAOO,oBAAoB,GAAGG,IAAI,CAACC,KAAK,CAACJ,oBAAoB,CAAC,GAAG,CAAC,CAAC;EACrE,CAAC,CAAC;EAEFZ,SAAS,CAAC,MAAM;IACda,YAAY,CAACI,OAAO,CAACZ,cAAc,EAAEU,IAAI,CAACG,SAAS,CAACR,SAAS,CAAC,CAAC;EACjE,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;EAEf,MAAMS,SAAS,GAAIC,SAAS,IAAK;IAC/BT,YAAY,CAAEU,aAAa,IAAK;MAC9B,MAAMC,YAAY,GAAG;QAAE,GAAGD;MAAc,CAAC;MACzC,IAAIC,YAAY,CAACF,SAAS,CAAC,EAAE;QAC3BE,YAAY,CAACF,SAAS,CAAC,EAAE;MAC3B,CAAC,MAAM;QACLE,YAAY,CAACF,SAAS,CAAC,GAAG,CAAC;MAC7B;MACA,OAAOE,YAAY;IACrB,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,IAAIC,KAAK,GAAG,CAAC;IACb,KAAK,MAAMJ,SAAS,IAAIV,SAAS,EAAE;MACjC,MAAMe,OAAO,GAAGxB,QAAQ,CAACyB,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKR,SAAS,CAAC;MACxD,MAAMS,QAAQ,GAAGnB,SAAS,CAACU,SAAS,CAAC;MACrCI,KAAK,IAAIC,OAAO,CAACK,KAAK,GAAGD,QAAQ;IACnC;IACA,OAAOL,KAAK,CAACO,OAAO,CAAC,CAAC,CAAC;EACzB,CAAC;EAED,MAAMC,cAAc,GAAIZ,SAAS,IAAK;IACpCT,YAAY,CAAEU,aAAa,IAAK;MAC9B,MAAMC,YAAY,GAAG;QAAE,GAAGD;MAAc,CAAC;MACzC,OAAOC,YAAY,CAACF,SAAS,CAAC;MAC9B,OAAOE,YAAY;IACrB,CAAC,CAAC;EACJ,CAAC;EAED,MAAMW,SAAS,GAAGA,CAAA,KAAM;IACtBtB,YAAY,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC;EAED,MAAMuB,QAAQ,GAAGA,CAAA,KAAM;IACrB;IACAD,SAAS,EAAE;EACb,CAAC;EAED,oBACE9B,OAAA,CAACC,WAAW,CAAC+B,QAAQ;IACnBC,KAAK,EAAE;MACL1B,SAAS;MACTS,SAAS;MACTa,cAAc;MACdT,kBAAkB;MAClBU,SAAS;MACTC;IACF,CAAE;IAAAzB,QAAA,EAEDA;EAAQ;IAAA4B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACY;AAE3B,CAAC;AAAChC,EAAA,CA/DWF,mBAAmB;AAAAmC,EAAA,GAAnBnC,mBAAmB;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}